CREATE OR REPLACE PROCEDURE AVAILABLE(N2 NUMBER,N3 NUMBER,N1 NUMBER,N4
NUMBER)
IS
NO ALLOT.NOOFSEATS%TYPE;
CURSOR C1 IS SELECT NOOFSEATS FROM ALLOT;
BEGIN
OPEN C1;
FETCH C1 INTO NO;
IF(NO>N4)
THEN
DBMS_OUTPUT.PUT_LINE('SEATS ARE AVAILABLE');
UPDATE ALLOT SET NOOFSEATS=NOOFSEATS-N4 WHERE DAYNO=N2 AND SHOWID=N3
AND HALLID=N1;
ELSE
DBMS_OUTPUT.PUT_LINE('SEATS NOT AVAILABLE');
END IF;
CLOSE C1;
END;
/

CREATE OR REPLACE PROCEDURE DETAILS(CID IN NUMBER,CNAME IN
VARCHAR,EMAIL IN VARCHAR,PHONE IN VARCHAR) IS
BEGIN
INSERT INTO CUSTOMER VALUES(CID,CNAME,EMAIL,PHONE);
END;
/

CREATE OR REPLACE PROCEDURE TICDETAIL(CID IN NUMBER,HALLID IN NUMBER,
BLOCK IN VARCHAR,TOTTIC IN NUMBER, TPRICE IN NUMBER) IS
BEGIN
INSERT INTO TICKET VALUES(CID,HALLID,BLOCK,TOTTIC,TPRICE);
DBMS_OUTPUT.PUT_LINE(CID ||HALLID ||BLOCK ||TOTTIC ||TPRICE);
END;
/
