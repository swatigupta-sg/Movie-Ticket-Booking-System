CREATE TABLE HALL
(
 HALLID NUMBER(3) PRIMARY KEY
 ,SEAT_TOTAL NUMBER(3)
);

CREATE TABLE SEAT
(
 SID NUMBER(3) PRIMARY KEY,
 BLOCK VARCHAR(10)
);

CREATE TABLE CUSTOMER
(
 CID NUMBER(3) PRIMARY KEY,
 CNAME VARCHAR(10),
 EMAIL VARCHAR(25) UNIQUE ,
 PHONE NUMBER(10) NOT NULL
);

CREATE TABLE DISCOUNT
(
 OFFERID NUMBER(3) PRIMARY KEY,
 DNAME VARCHAR(15),
 DPERCENT NUMBER(3)
);

CREATE TABLE MOVIE
(
 MID NUMBER(3) PRIMARY KEY,
 MNAME VARCHAR(10),
 RELEASEDATE DATE
);

CREATE TABLE MOVIE_ACTOR
(
 MID NUMBER(3) REFERENCES MOVIE(MID),
 ACTOR VARCHAR(20),
 CONSTRAINT MA_PK PRIMARY KEY(MID,ACTOR)
);

CREATE TABLE SHOW
(
 MID NUMBER(3) REFERENCES MOVIE(MID),
SHOWID NUMBER(3),
SHOWTIME VARCHAR(15),
LANGUAGE VARCHAR(7),
CONSTRAINT MSID_PK PRIMARY KEY(MID,SHOWID)
);

CREATE TABLE SH
(
 MID NUMBER(3) REFERENCES MOVIE(MID),
 SHOWID NUMBER(3) ,
 HALLID NUMBER(3) REFERENCES HALL(HALLID),
 CONSTRAINT ALL_PK PRIMARY KEY(MID,SHOWID,HALLID)
);

CREATE TABLE TICKET
(
 CID NUMBER(3) REFERENCES CUSTOMER(CID),
 HALLID NUMBER(3) REFERENCES HALL(HALLID),
 BLOCK VARCHAR(10) ,
 TOTTIC NUMBER(3),
 TPRICE NUMBER(5),
 CONSTRAINT C_PK PRIMARY KEY(CID)
);

CREATE TABLE ALLOT
(
 DAYNO NUMBER(3) ,
 SHOWID NUMBER(3) ,
 HALLID NUMBER(3) REFERENCES HALL(HALLID),
 NOOFSEATS NUMBER(3),
 CONSTRAINT ALL2_PK PRIMARY KEY(DAYNO,SHOWID,HALLID)
);
