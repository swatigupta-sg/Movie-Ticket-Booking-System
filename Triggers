CREATE OR REPLACE TRIGGER UNIQUE_PH
BEFORE INSERT ON CUSTOMER
FOR EACH ROW
DECLARE
P CUSTOMER.PHONE%TYPE;
BEGIN
SELECT PHONE INTO P FROM CUSTOMER WHERE PHONE=:NEW.PHONE;
RAISE_APPLICATION_ERROR(-20003,'THIS PHONE NO ALREADY EXISTS');
END;
/
